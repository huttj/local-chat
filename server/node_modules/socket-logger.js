const log = require('log');

module.exports = function(socket) {
  "use strict";
  const on = socket.on;
  const emit = socket.emit;

  socket.on = function(event, callback) {
    on.call(socket, event, function(data) {
      log('on', event, data);
      callback(data);
    });
  };

  socket.emit = function(event, data) {
    log('emit', event, data);
    emit.call(socket, event, data);
  };

};